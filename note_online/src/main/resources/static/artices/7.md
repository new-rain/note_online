面向对象编程（ Object-Oriented Programming，ooP）

Java的核心思想为面向对象

## 1.面向过程与面向对象（修改版本）

### 面向过程思想

◆步骤清晰简单，第一步做什么，第二步做什么
◆面对过程适合处理一些较为简单的问题

### 面向对象思想

#### 1.定义

物以类聚，分类的思维模式，思考问题首先会解决问题需要哪些分类，然后对这些分类进行单独思考。最后，才对某个分类下的细节进行面向过程的思索。

#### 2.优势

面向对象适合处理复杂的问题，适合处理需要多人协作的向问题！

对于描述复杂的事物，为了从宏观上把握、从整体上合理分析，我们需要使用面向对象的思路来分析整个系统。但是，具体到微观操作，仍然需要面向过程的思路去处理。

#### 3.面向对象编程的本质

以类的方式组织代码，以对象的组织封装）数据。

#### 4.面向对象的三大特性

◆封装
◆继承
◆多态

## 2.类与对象的关系

### 1.类的概念

类是一种抽象的数据类型，它是对某一类事物整体描述/定义但是并不能代表某一个具体的事物
◆动物、植物、手机、电脑。…
◆ Person类、Pet类、Car类等，这些类都是用来描述/定义某一类具体的事物应该具备的特点和行为

### 2.对象的概念

对象是抽象概念的具体实例

**对象是通过引用来调用的**

◆张三就是人的一个具体实例张三家里的旺财就是狗的一个具体实例。
◆能够体现出特点，展现出功能的是具体的实例而不是一个抽象的概念。

从认识论角度考虑是先有对象后有类。对象，是具体的事物。类，是抽象的，是对对象的抽象
从代码运行角度考虑是先有类后有对象。类是对象的模板。

**类是模板，对象是具体实例**

## 3.创建与初始化对象

### **创建对象的要求**

**使用new关键字创建对象**

**必须有构造器**

使用new关键字创建的时候，除了分配內存空间之外，还会给刨建好的对象进行默认的初始化以及对类中构造器的调用。
类中的构造器也称为构造方法，是在进行创建对象的时候必须要调用的。

### **构造器**

**构造器（构造方法）有以下两个特点**：
◆1.必须和类的名字相同
◆2.必须没有返回类型也不能写void

每个类都有一个构造方法，用于创建对象。

使用new 创建对象的本质就是调用构造方法创建对象。

构造方法中this代表本类，this.属性代表本类中的这个属性。

每个方法都默认都有一个无参构造方法，但如果在类中定义有参构造方法后，默认的无参构造方法就会失效，需要自己重新定义。

**通过对象.方法/属性调用方法或属性。**

## 4.面向对象三大基本特征

### 1.封装

**设计程序追求**：“高内聚，低耦合”.高内聚就是类的内部数据操作细节自己完成，不允许外部干涉；低耦合：仅暴露少量的方法给外部使用。

**封装的意义**

应禁止直接访问一个对象中数据的实际表示，而应通过操作接口来访问，这称为信息隐藏。

**如何实现**

通过将属性或方法的修饰符设置为private，从而实现数据的封装。

可以在set方法中直接添加限制，从而实现对设置数据的限制

例：直接在set方法中添加限制，从而实现设置年龄时只能设置合理的值

```java
public void setAge(int age){
    if(age>0 || age<120){
        this.age=age;
    }else{
        System.out.println("年龄无效");
    }
}
```

**封装的好处**

1.提高了程序的安全性，保护数据；

2.隐藏代码的实现细节；

3.统一接口；

4.增加了系统的可维护性；



### 2.继承

#### 1.简介

继承是类和类之间的一种关系。本质是对某一批类的抽象，从而实现对现实世界更好的建模。

除此之外类和类之间的关系还有依赖、组合、聚合等

继承使用关键字：extends；意思是“扩展”.代表子类是父类的扩展

```java
public class 子类 extends 父类
```



#### 2.重写

子类继承父类就会拥有父类的全部属性和方法；通过子类对象可以直接调用父类方法（前提为方法或属性的修饰符为public）。如果在子类中有与父类方法名与参数相同的方法，调用时则会调用子类中的方法。这种情况被称为**重写**。

**关键字super**:代表父类

使用super可以调用父类的属性和方法（前提为方法或属性的修饰符为public）。

super.属性/方法

子类的构造方法默认有一个隐藏的super()，位于构造方法的第一行，代表继承父类的构造方法。在使用构造方法创建子类对象的同时调用父类构造方法，从而实现子类对象可以使用父类的属性和方法。

父类如果没有无参构造方法，那子类的无参构造方法无法继承父类的构造方法，从而创建无参构造方法失败。

**关键字this：**代表本类

使用super可以调用子类的属性和方法

**重写**

**重写的条件**

1. 需要有继承关系，子类中可以有重写

2. 方法不能为私有（private）方法

3. 方法为非静态方法

4. 参数列表与方法名必须相同

   

子类与父类方法方法名与方法参数相同时静态方法（stastic）与非静态方法的区别：

静态方法

使用子类创建子类对象，用子类对象调用该方法，被调用的为子类中的方法。

使用父类创建子类对象，用子类对象调用该方法，被调用的为父类中的方法。

**这种不属于方法的重写**



非静态方法

无论使用子类创建子类对象，还是使用父类创建子类对象，使用子类调用被重写的方法，被调用的都是在子类中重写后的方法。



#### 3.Java继承特点

1.**JAVA中类只有单继承，没有多继承，但是可以进行多层继承**

2.子类继承父类就会拥有父类的全部属性和方法，通过子类对象可以直接调用父类中修饰符为public的方法和属性。如果在子类中有与父类方法名与参数相同的方法，调用时则会调用子类中的方法。这种情况被称为**重写**。

3.**父类中私有的属性及方法无法被子类继承**

4.**在JAVA中所有的类都默认直接或间接继承Object类。**

5.父类如果没有无参构造方法，那子类的无参构造方法无法继承父类的构造方法，从而创建无参构造方法失败。

6.继承中变量的访问顺序

1. 子类局部变量
2. 子类成员变量
3. 父类成员变量

7.继承中方法的访问顺序

1. 子类范围
2. 父类范围

8.**子类中所有的构造方法默认都会访问父类中无参的构造方法**，如果父类中没有无参构造方法，则子类中不能创建也没有无参构造方法。且需重写父类中的有参构造方法。

​	子类会继承父类中的数据，可能还会使用父类的数据。所以，子类初始化之前，一定要先完成父类数据的初始化，原因在于，每一个子类构造方法的第一条语句默认都是：super()。







### 3.多态

#### **1.定义**

同一方法可以根据发送对象的不同而采用多种不同的行为方式。
一个对象的实际类型是确定的，但可以指向对象的引用的类型有很多

#### **2.多态存在的条件**

1. 有继承关系
2. 子类重写父类方法
3. 父类引用指向子类对象

一个对象的实际类型是确定的（new 的对象），但指向对象可以有多个

如父类创建子类对象

子类对象可以调用子类的方法或继承父类的方法

但父类对象可以指向子类，但不能调用子类的方法，只能强转为子类对象。

#### 3.instanceof关键字

判断对象是否为某类的对象或其父类的对象，如果对象类型与比较类型平级，则不能使用

格式  对象1 instanceof 类    

返回值为boolean类型





## 5.static关键字

**作用：**将属性或方法变为静态属性或方法。

静态变量建议使用类名.属性直接调用，且只有静态变量能直接使用类名调用

静态方法：静态方法会在类加载时被加载，同一个类中非静态方法可以直接调用静态方法，且不需要通过对象调用。在其它类中可以通过类名.静态方法名直接调用静态方法。

**静态代码块**

直接在类中添加static{   },可以在类加载时直接加载（且首先加载，只执行一次），一般用于添加一些初始化数据。

**静态导入包**

可以直接调用导入的类中的方法，不需要通过对象调用。

**一个类的所有对象共享一个类中的静态变量。**





## 6.抽象类

在类或方法中添加关键字abstract;

抽象方法只有方法名，没有方法体。

继承抽象类的子类需要重写抽象类的所有方法



**抽象类特点**：

1. 不能new，只能通过子类重写。
2. 抽象类中可以写普通的方法，但抽下那个方法只能在抽象类中。



## 7.**接口**

**定义**：接口就规范，是一组定义。实现interface创建。

约束和实现分离，面向接口编程。

接口中的所有方法都是抽象的(public abstract,可以省略)。切只有方法，没有实现。

接口中定义的属性都是常量（public static final）(但不建议)。

接口都需要实现类，通过implements关键字，实现类一般以Impl结尾。

实现了接口就需要重写接口中的所有类。





## 8.内部类

在一个类中使用class再创建一个类。

在其他类中创建内部类对象的方法：内部类所在类的对象.new 内部类。

内部类可以直接获取所在外部类的私有属性与方法。（内部类不是静态类）

**局部内部类**：直接在方法中创建。

**匿名内部类：**可以在外部类中创建对象不创建返回值，直接调用方法创建匿名对象。new 内部类名().内部类中的方法();

